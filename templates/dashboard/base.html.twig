{% extends 'base.html.twig' %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock %}

{% block body %}
	{# 1. Fixed Company Logo (Desktop Sidebar Header) #}
	<div id="companyTopLeft" class="fixed top-0 left-0 h-14 w-64 px-6 flex items-center justify-center bg-sidebar-bg text-white font-bold tracking-tighter text-2xl z-50 border-b border-r border-sidebar-border sidebar-transition hidden">
		Freelance Flow
	</div>

	{# 2. Top Navigation Bar #}
	<nav class="fixed top-0 inset-x-0 h-14 bg-white/70 backdrop-blur-md border-b border-slate-200/60 z-40 shadow-sm">
		<div id="topbarInner" class="flex items-center justify-between h-full px-6 sidebar-transition lg:ml-64">
			<div class="flex items-center gap-4">
				<button id="burger" class="p-2 rounded-xl hover:bg-indigo-50 text-primary  transition-all active:scale-95">
					<i class="fas fa-bars text-lg"></i>
				</button>
				<span id="companyNextBurger" class="font-bold tracking-tighter text-2xl text-primary hidden">
					Freelance Flow
				</span>
			</div>

			<div class="relative">
				<button id="userBtn" class="flex items-center gap-3 px-3 py-1.5 rounded-full border border-slate-200 hover:bg-slate-50 transition-all shadow-sm active:scale-95">
					
					
							<span class="hidden sm:block text-md font-semibold  text-primary">
						{{ app.user ? app.user.userIdentifier : 'Guest User' }}
					</span>
					<div class="w-8 h-8 rounded-full p-4 bg-primary flex items-center justify-center text-sm text-white font-bold shadow-primary shadow-lg">
						{{ app.user ? app.user.userIdentifier|slice(0, 2)|upper : 'JD' }}
					</div>
					{# <i class="fa-solid fa-user  text-[10px] text-slate-400 transition-transform duration-300"></i> #}
					<i class="fas fa-chevron-down text-[12px] text-slate-400 transition-transform duration-300" id="userChevron"></i>
				</button>

				<div id="userDropdown" class="hidden absolute right-0 mt-3 w-56 bg-white rounded-2xl shadow-2xl border border-slate-200 p-2 z-50 transform origin-top-right transition-all">
					<div class="px-4 py-3 mb-1">
						<p class="text-xs text-slate-400 font-medium uppercase tracking-wider">Account</p>
						<p class="text-sm font-bold text-slate-700 truncate">{{ app.user ? app.user.userIdentifier : 'guest@example.com' }}</p>
					</div>
					<a href="#" class="flex items-center gap-3 px-4 py-2.5 hover:bg-slate-50 rounded-xl transition-all text-sm text-slate-600 group">
						<i class="fas fa-user-circle opacity-50 group-hover:text-indigo-600"></i>My profile
					</a>
					<hr class="my-2 border-slate-100"/>
					<a href="{{ path('app_logout')|default('#') }}" class="flex items-center gap-3 px-4 py-2.5 hover:bg-rose-50 text-rose-600 rounded-xl transition-all text-sm font-semibold">
						<i class="fas fa-sign-out-alt"></i>Logout
					</a>
				</div>
			</div>
		</div>
	</nav>

	{# 3. Sidebar#}
	<aside id="sidebar" class="fixed top-14 left-0 h-[calc(100vh-3.5rem)] w-64 bg-sidebar-bg text-white sidebar-transition z-30 shadow-2xl border-r border-sidebar-border overflow-y-auto">
		<div class="p-6 flex flex-col h-full space-y-8">
			<section>
				<p class="text-[10px] uppercase text-slate-500 tracking-[0.2em] font-bold mb-4 px-2 ">General</p>
				<nav class="space-y-1">
					<a href="{{ path('dashboard_freelancer') }}" class="flex items-center gap-3 px-4 py-3 rounded-xl sidebar-transition {{ app.request.get('_route') == 'dashboard_freelancer' ? 'nav-link-active' : 'text-slate-400 hover:bg-white/5 hover:text-white group' }}">
						<i class="fas fa-th-large w-5 text-center"></i>
						<span class="sidebar-text">Dashboard</span>
					</a>
				</nav>
			</section>

			<section>
				<p class="text-[10px] uppercase text-slate-500 tracking-[0.2em] font-bold mb-4 px-2 ">Freelance Tools</p>
				<nav class="space-y-1">
					<a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:bg-white/5 hover:text-white transition-all group">
						<i class="fas fa-users w-5 text-center group-hover:text-indigo-400 transition-colors"></i>
						<span class="sidebar-text">Clients</span>
					</a>
					<a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:bg-white/5 hover:text-white transition-all group">
						<i class="fas fa-file-invoice-dollar w-5 text-center group-hover:text-indigo-400 transition-colors"></i>
						<span class="sidebar-text">Invoices</span>
					</a>
			
					<a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:bg-white/5 hover:text-white transition-all group">
						<i class="fas fa-chart-pie w-5 text-center group-hover:text-indigo-400 transition-colors"></i>
						<span class="sidebar-text">Analytics</span>
					</a>
				</nav>
			</section>
		</div>
	</aside>

	<div id="overlay" class="fixed inset-0 bg-slate-950/40 backdrop-blur-sm z-20 hidden lg:hidden"></div>

	<main id="main" class="pt-24 lg:ml-64 sidebar-transition">
		<div class="max-w-7xl mx-auto px-6 md:px-8 pb-12">
			{% block dashboard_content %}{% endblock %}
		</div>
	</main>
{% endblock %}

{% extends 'dashboard/base.html.twig' %}

{% block title %}Client Details -
	{{ client.fullName }}
{% endblock %}

{% block dashboard_content %}
	<div
		class="max-w-4xl mx-auto px-4 py-8">

		{# 1. Navigation & Actions #}
		<div class="flex items-center justify-between mb-8">
			<a href="{{ path('app_client_index') }}" class="inline-flex items-center gap-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors group">
				<i class="fas fa-arrow-left text-xs group-hover:-translate-x-1 transition-transform"></i>
				Back to list
			</a>
			<div class="flex items-center gap-3">
				<a href="{{ path('app_client_edit', {'id': client.id}) }}" class="px-4 py-2 text-sm font-semibold text-slate-300 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 hover:text-white transition-all shadow-lg backdrop-blur-md">
					<i class="fas fa-edit mr-2 text-slate-400"></i>
					Edit Details
				</a>
				{{ include('client/_delete_form.html.twig') }}
			</div>
		</div>

		{# 2. Profile Header Card (Glass) #}
		<div class="glass-card rounded-2xl overflow-hidden border border-white/10 relative">

			<div class="h-32 bg-gradient-to-r from-blue-600/40 to-purple-700/40 backdrop-blur-md border-b border-white/10 relative overflow-hidden">
				<div class="absolute inset-0 bg-white/10 skew-x-12 -translate-x-full animate-shimmer opacity-30"></div>
			</div>

			<div class="px-8 pb-8 relative">
				<div class="flex flex-col sm:flex-row items-end sm:items-end gap-6 -mt-12 mb-8">

					<div class="h-24 w-24 rounded-2xl p-1 bg-slate-900 shadow-xl">
						<div class="h-full w-full rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 flex items-center justify-center text-white text-3xl font-bold shadow-inner">
							{{ client.firstName|first }}{{ client.lastName|first }}
						</div>
					</div>

					<div class="flex-1 min-w-0 pb-1 text-center sm:text-left">
						<h1 class="text-3xl font-bold text-white tracking-tight mb-1">{{ client.firstName }}
							{{ client.lastName }}</h1>
						<p class="text-slate-400 flex items-center justify-center sm:justify-start gap-2">
							{% if client.companyName %}
								<i class="fas fa-building text-blue-400 text-xs"></i>
								{{ client.companyName }}
							{% else %}
								<i class="fas fa-user text-purple-400 text-xs"></i>
								Individual Client
							{% endif %}
						</p>
					</div>
				</div>

				<div class="h-px bg-white/5 mb-8"></div>

				{# 3. Information Grid #}
				<div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10">

					<div>
						<h3 class="text-xs font-bold text-blue-400 uppercase tracking-widest mb-4 flex items-center gap-2">
							<i class="fas fa-address-card"></i>
							Contact Information
						</h3>
						<div class="space-y-4">
							<div class="group flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
								<div class="w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-colors">
									<i class="fas fa-envelope"></i>
								</div>
								<div>
									<p class="text-xs text-slate-500 uppercase font-bold tracking-wider">Email</p>
									<span class="text-sm text-slate-200">{{ client.email }}</span>
								</div>
							</div>

							<div class="group flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
								<div class="w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center text-purple-400 group-hover:bg-purple-500 group-hover:text-white transition-colors">
									<i class="fas fa-phone"></i>
								</div>
								<div>
									<p class="text-xs text-slate-500 uppercase font-bold tracking-wider">Phone</p>
									<span class="text-sm text-slate-200 font-mono tracking-wide">{{ client.phoneNumber }}</span>
								</div>
							</div>
						</div>
					</div>

					<div>
						<h3 class="text-xs font-bold text-purple-400 uppercase tracking-widest mb-4 flex items-center gap-2">
							<i class="fas fa-map-marker-alt"></i>
							Address
						</h3>

						<div class="group flex items-start gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
							<div class="w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center text-slate-400 group-hover:bg-slate-600 group-hover:text-white transition-colors mt-1">
								<i class="fas fa-location-arrow"></i>
							</div>
							<div>
								<p class="text-xs text-slate-500 uppercase font-bold tracking-wider mb-1">Billing Address</p>
								<span class="text-sm text-slate-200 leading-relaxed block">
									{{ client.address }}<br>
									{{ client.postCode }}
									{{ client.city }}<br>
									{{ client.country }}
								</span>
							</div>
						</div>

						{% if client.siret or client.vatNumber %}
							<div class="mt-6 pt-6 border-t border-white/5">
								<div class="grid grid-cols-2 gap-4">
									{% if client.siret %}
										<div>
											<p class="text-[10px] text-slate-500 uppercase font-bold">SIRET</p>
											<p class="text-xs text-slate-300 font-mono">{{ client.siret }}</p>
										</div>
									{% endif %}
									{% if client.vatNumber %}
										<div>
											<p class="text-[10px] text-slate-500 uppercase font-bold">VAT Number</p>
											<p class="text-xs text-slate-300 font-mono">{{ client.vatNumber }}</p>
										</div>
									{% endif %}
								</div>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

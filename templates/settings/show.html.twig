{% extends 'dashboard/base.html.twig' %}

{% block title %}
	{{ 'My Profile'|trans }}
{% endblock %}

{% block dashboard_content %}
	<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="flex items-center justify-between mb-8">
			<div>
				<h2 class="text-xl font-bold text-white">{{ 'My Profile'|trans }}</h2>
				<p class="text-slate-400 text-sm">{{ 'Manage your account and legal information.'|trans }}</p>
			</div>

			<div class="flex items-center gap-3">
				<a href="{{ path('app_profile_edit') }}" class="group relative px-6 py-2.5 rounded-xl overflow-hidden shadow-lg shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-95">
					<div class="absolute inset-0 w-full h-full bg-gradient-to-r from-blue-600 to-purple-700 opacity-90 group-hover:opacity-100 transition-opacity"></div>
					<div class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:animate-shimmer"></div>
					<span class="relative text-sm font-bold text-white flex items-center gap-2">
						<i class="fas fa-pen text-xs"></i>
						{{ 'Edit Profile'|trans }}
					</span>
				</a>
			</div>
		</div>

		<div class="bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden shadow-2xl relative">
			<div class="h-32 bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-md border-b border-white/10 relative overflow-hidden">
				<div class="absolute inset-0 bg-white/5 skew-x-12 -translate-x-full animate-shimmer opacity-30"></div>
			</div>

			<div class="px-8 pb-8 relative">
				<div class="flex flex-col sm:flex-row items-end sm:items-end gap-6 -mt-12 mb-8">
					<div class="h-24 w-24 rounded-2xl p-1 bg-slate-900 shadow-xl">
						<div class="h-full w-full rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 flex items-center justify-center text-white text-3xl font-bold shadow-inner">
							{% if user.firstName and user.lastName %}
								{{ user.firstName|first }}{{ user.lastName|first }}
							{% else %}
								<i class="fas fa-user"></i>
							{% endif %}
						</div>
					</div>
					<div class="flex-1 min-w-0 pb-1 text-center sm:text-left">
						<h1 class="text-3xl font-bold text-white tracking-tight mb-1">
							{% if user.firstName %}
								{{ user.firstName }}
								{{ user.lastName }}
							{% else %}
								<span class="text-slate-500 italic">{{ 'No Name Set'|trans }}</span>
							{% endif %}
						</h1>
						<p class="text-slate-400 flex items-center justify-center sm:justify-start gap-2">
							{% if user.companyName %}
								<i class="fas fa-building text-blue-400 text-xs"></i>
								{{ user.companyName }}
							{% else %}
								<i class="fas fa-briefcase text-purple-400 text-xs"></i>
								{{ 'Freelancer'|trans }}
							{% endif %}
						</p>
					</div>
				</div>

				<div class="h-px bg-white/5 mb-8"></div>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10">
					<div>
						<h3 class="text-xs font-bold text-blue-400 uppercase tracking-widest mb-4 flex items-center gap-2">
							<i class="fas fa-address-card"></i>
							{{ 'Contact Information'|trans }}
						</h3>
						<div class="space-y-4">
							<div class="group flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
								<div class="w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-colors">
									<i class="fas fa-envelope"></i>
								</div>
								<div>
									<p class="text-xs text-slate-500 uppercase font-bold tracking-wider">{{ 'Email'|trans }}</p>
									<span class="text-sm text-slate-200">{{ user.email }}</span>
								</div>
							</div>

							<div class="group flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
								<div class="w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center text-purple-400 group-hover:bg-purple-500 group-hover:text-white transition-colors">
									<i class="fas fa-phone"></i>
								</div>
								<div>
									<p class="text-xs text-slate-500 uppercase font-bold tracking-wider">{{ 'Phone'|trans }}</p>
									<span class="text-sm text-slate-200 font-mono tracking-wide">
										{{ user.phoneNumber|default('Not provided'|trans) }}
									</span>
								</div>
							</div>
						</div>
					</div>
					<div>
						<h3 class="text-xs font-bold text-purple-400 uppercase tracking-widest mb-4 flex items-center gap-2">
							<i class="fas fa-map-marker-alt"></i>
							{{ 'Business Location'|trans }}
						</h3>

						<div class="group flex items-start gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
							<div class="w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center text-slate-400 group-hover:bg-slate-600 group-hover:text-white transition-colors mt-1">
								<i class="fas fa-location-arrow"></i>
							</div>
							<div>
								<p class="text-xs text-slate-500 uppercase font-bold tracking-wider mb-1">{{ 'Billing Address'|trans }}</p>
								<span class="text-sm text-slate-200 leading-relaxed block">
									{% if user.address %}
										{{ user.address }}<br>
										{{ user.postCode }}
										{{ user.city }}<br>
										{{ user.country }}
									{% else %}
										<span class="text-slate-500 italic">{{ 'No address provided'|trans }}</span>
									{% endif %}
								</span>
							</div>
						</div>
						{% if user.siretNumber or user.vatNumber %}
							<div class="mt-6 pt-6 border-t border-white/5">
								<div class="grid grid-cols-2 gap-4">
									{% if user.siretNumber %}
										<div>
											<p class="text-[10px] text-slate-500 uppercase font-bold">{{ 'SIRET Number'|trans }}</p>
											<p class="text-xs text-slate-300 font-mono">{{ user.siretNumber }}</p>
										</div>
									{% endif %}
									{% if user.vatNumber %}
										<div>
											<p class="text-[10px] text-slate-500 uppercase font-bold">{{ 'VAT Number'|trans }}</p>
											<p class="text-xs text-slate-300 font-mono">{{ user.vatNumber }}</p>
										</div>
									{% endif %}
								</div>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
